<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard - IRCTC</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h3>IRCTC User Dashboard</h3>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="#" data-section="overview">
                        <i class="bi bi-house-door"></i> Overview
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-section="book-ticket">
                        <i class="bi bi-ticket-perforated"></i> Book Ticket
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-section="my-tickets">
                        <i class="bi bi-collection"></i> My Tickets
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-section="profile">
                        <i class="bi bi-person"></i> Profile
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="logout()">
                        <i class="bi bi-box-arrow-right"></i> Logout
                    </a>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Overview Section -->
            <section id="overview" class="content-section active">
                <h2>Dashboard Overview</h2>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Tickets by Class</h5>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Class</th>
                                                <th>Number of Tickets</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>First Class</td>
                                                <td>12</td>
                                            </tr>
                                            <tr>
                                                <td>AC Tier 1</td>
                                                <td>19</td>
                                            </tr>
                                            <tr>
                                                <td>AC Tier 2</td>
                                                <td>15</td>
                                            </tr>
                                            <tr>
                                                <td>Tatkal</td>
                                                <td>8</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Quarterly Sales</h5>
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Quarter</th>
                                                <th>Sales (in thousands)</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Q1</td>
                                                <td>65</td>
                                            </tr>
                                            <tr>
                                                <td>Q2</td>
                                                <td>59</td>
                                            </tr>
                                            <tr>
                                                <td>Q3</td>
                                                <td>80</td>
                                            </tr>
                                            <tr>
                                                <td>Q4</td>
                                                <td>81</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- New Statistics Row -->
                <div class="row mt-4">
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="card-subtitle mb-2 text-muted">Total Bookings</h6>
                                        <h3 class="card-title mb-0">54</h3>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="bi bi-ticket-perforated text-primary"></i>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <small class="text-success">
                                        <i class="bi bi-arrow-up"></i> 12% this month
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="card-subtitle mb-2 text-muted">Active Tickets</h6>
                                        <h3 class="card-title mb-0">8</h3>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="bi bi-check-circle text-success"></i>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <small class="text-muted">
                                        Next journey in 3 days
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="card-subtitle mb-2 text-muted">Total Spent</h6>
                                        <h3 class="card-title mb-0">₹45.2K</h3>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="bi bi-currency-rupee text-warning"></i>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <small class="text-success">
                                        <i class="bi bi-arrow-up"></i> 8% this month
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card">
                            <div class="card-body">
                                <div class="d-flex justify-content-between align-items-center">
                                    <div>
                                        <h6 class="card-subtitle mb-2 text-muted">Reward Points</h6>
                                        <h3 class="card-title mb-0">2,450</h3>
                                    </div>
                                    <div class="stat-icon">
                                        <i class="bi bi-star text-warning"></i>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <small class="text-primary">
                                        Redeem for discounts
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity and Upcoming Journeys -->
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Upcoming Journeys</h5>
                                <div class="upcoming-journeys">
                                    <div class="journey-item mb-3 p-3 border rounded">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="mb-1">Delhi → Mumbai</h6>
                                                <small class="text-muted">Rajdhani Express (12301)</small>
                                            </div>
                                            <span class="badge bg-primary">3 days left</span>
                                        </div>
                                        <div class="mt-2">
                                            <small class="text-muted">
                                                <i class="bi bi-calendar me-1"></i>15 Apr 2024
                                                <i class="bi bi-clock ms-3 me-1"></i>08:00 AM
                                            </small>
                                        </div>
                                    </div>
                                    <div class="journey-item p-3 border rounded">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div>
                                                <h6 class="mb-1">Mumbai → Bangalore</h6>
                                                <small class="text-muted">Duronto Express (12213)</small>
                                            </div>
                                            <span class="badge bg-primary">7 days left</span>
                                        </div>
                                        <div class="mt-2">
                                            <small class="text-muted">
                                                <i class="bi bi-calendar me-1"></i>20 Apr 2024
                                                <i class="bi bi-clock ms-3 me-1"></i>10:00 AM
                                            </small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Book Ticket Section -->
            <section id="book-ticket" class="content-section">
                <h2>Book Ticket</h2>
                <div class="card">
                    <div class="card-body">
                        <form id="bookingForm">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="userId">User ID</label>
                                        <input type="text" class="form-control" id="userId" readonly>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="userName">Name</label>
                                        <input type="text" class="form-control" id="userName" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="userMobile">Mobile</label>
                                        <input type="tel" class="form-control" id="userMobile" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="userAge">Age</label>
                                        <input type="number" class="form-control" id="userAge" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="journeyDate">Date</label>
                                        <input type="date" class="form-control" id="journeyDate" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="boardingStation">Boarding Station</label>
                                        <input type="text" class="form-control" id="boardingStation" required>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="destinationStation">Destination Station</label>
                                        <input type="text" class="form-control" id="destinationStation" required>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="ticketClass">Ticket Category</label>
                                        <select class="form-control" id="ticketClass" required>
                                            <option value="">Select Class</option>
                                            <option value="First Class">First Class</option>
                                            <option value="AC Tier 1">AC Tier 1</option>
                                            <option value="AC Tier 2">AC Tier 2</option>
                                            <option value="Tatkal">Tatkal</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="numTickets">Number of Tickets</label>
                                        <input type="number" class="form-control" id="numTickets" min="1" required>
                                    </div>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Search Trains</button>
                        </form>
                    </div>
                </div>
                <div id="availableTrains" class="mt-4">
                    <!-- Available trains will be displayed here -->
                </div>
            </section>

            <!-- My Tickets Section -->
            <section id="my-tickets" class="content-section">
                <h2>My Tickets</h2>
                <div class="row" id="ticketsContainer">
                    <!-- Tickets will be dynamically populated here -->
                </div>
            </section>

            <!-- Profile Section -->
            <section id="profile" class="content-section">
                <h2>My Profile</h2>
                <div class="profile-section">
                    <div class="profile-header">
                        <div class="profile-avatar">
                            K
                        </div>
                        <div class="profile-info">
                            <h3>Kovil</h3>
                            <p><i class="bi bi-envelope me-2"></i>kovil@example.com</p>
                            <p><i class="bi bi-phone me-2"></i>9913961701</p>
                        </div>
                    </div>
                    <form id="profileForm" class="profile-form">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="profileEmail">
                                        <i class="bi bi-envelope me-2"></i>Email Address
                                    </label>
                                    <input type="email" class="form-control" id="profileEmail" value="kovil@example.com" disabled>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="profileMobile">
                                        <i class="bi bi-phone me-2"></i>Mobile Number
                                    </label>
                                    <input type="tel" class="form-control" id="profileMobile" value="9913961701" disabled>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="profileAddress">
                                <i class="bi bi-geo-alt me-2"></i>Address
                            </label>
                            <textarea class="form-control" id="profileAddress" rows="3" disabled>123 Main Street, City, State, Country</textarea>
                        </div>
                        <div class="form-group">
                            <div class="form-check">
                                <input type="checkbox" class="form-check-input" id="changePassword">
                                <label class="form-check-label" for="changePassword">
                                    <i class="bi bi-lock me-2"></i>Change Password
                                </label>
                            </div>
                        </div>
                        <div id="passwordFields" style="display: none;">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="currentPassword">Current Password</label>
                                        <input type="password" class="form-control" id="currentPassword" disabled>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="newPassword">New Password</label>
                                        <input type="password" class="form-control" id="newPassword" disabled>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="confirmNewPassword">Confirm New Password</label>
                                        <input type="password" class="form-control" id="confirmNewPassword" disabled>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mt-4">
                            <button type="button" class="edit-profile-btn" onclick="toggleEditMode()">
                                <i class="bi bi-pencil"></i>Edit Profile
                            </button>
                            <button type="submit" class="btn btn-primary" style="display: none;" id="saveProfileBtn">
                                <i class="bi bi-check2 me-2"></i>Save Changes
                            </button>
                        </div>
                    </form>
                </div>
            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../../assets/js/dashboard.js"></script>
</body>
</html> 